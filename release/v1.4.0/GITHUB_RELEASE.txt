FPVGate v1.4.0 - Track Management & Distance Tracking

Major new release adding comprehensive track management and real-time distance tracking capabilities.

## Highlights

- **Track Management System** - Create, edit, and manage up to 50 track profiles with images, tags, and notes
- **Distance Tracking** - Real-time distance display, total distance travelled, and distance remaining calculations  
- **Enhanced Race Editing** - Edit race metadata, lap times, and track associations with improved tabbed UI
- **Track Selection** - Choose active track before racing (persists across reboots)
- **Race Distance Stats** - Distance data stored with race history for comprehensive analysis

## What's New

### Track Management
- Create track profiles with name, tags, distance, notes, and images
- Store up to 50 tracks on SD card or LittleFS  
- Select active track via Configuration modal (selection persists)
- Track info displayed during races
- Full CRUD operations: create, read, update, delete
- Track images stored at `/tracks/images/`
- Individual track files: `/tracks/track_<id>.json`

### Distance Tracking
- Live distance counter updates every 100ms during race
- Current lap distance display (when track selected)
- Total distance travelled counter  
- Distance remaining for finite lap races
- Distance data stored with race history
- Per-lap distance calculations in race details view
- Display format: "Lap 1: 12.34s | 125/500m"

### Enhanced Race Editing
- Edit race metadata: name, tags, notes, track, distance
- Edit individual lap times
- Drag-and-drop lap reordering
- Tabbed edit interface (Info and Laps tabs)
- Separate API endpoints for metadata vs lap changes
- Real-time statistics recalculation
- Better validation and confirmation dialogs

### API Enhancements
**Track Management:**
- `GET /tracks` - List all tracks
- `POST /tracks/create` - Create track  
- `POST /tracks/update` - Update track
- `POST /tracks/delete` - Delete track
- `POST /tracks/select` - Set active track
- `GET /tracks/image/<id>` - Get track image

**Distance Tracking:**
- `GET /timer/distance` - Get current distance stats

**Race Management:**
- `POST /races/update` - Update race metadata
- `POST /races/updateLaps` - Update race laps

## Improvements

- Track name and distance in race history list
- Track association with races (trackId, trackName fields)
- Current lap time shown during active race
- Distance counter in race interface
- Track filter in history search
- Track selector in Configuration modal
- Selected track ID stored in EEPROM

## Bug Fixes

- Fixed race data not including distance information
- Fixed per-lap distance calculation display  
- Fixed track selection not persisting after reboot
- Improved race saving reliability

## Installation

### Firmware (ESP32-S3)

1. Download the firmware files from this release
2. Flash using esptool:

```bash
esptool.py --chip esp32s3 --port COM3 write_flash -z \
  0x0 bootloader.bin \
  0x8000 partitions.bin \
  0x10000 firmware.bin \
  0x410000 littlefs.bin
```

### Desktop App (Windows)

1. Download `FPVGate_Desktop_v1.4.0_Windows_x64.zip`
2. Extract and run `FPVGate.exe`
3. Connect ESP32-S3 via USB and select COM port

## Compatibility

- Backwards compatible with v1.3.x races
- Config version remains v3 (auto-migrates)
- SD card preferred, LittleFS fallback maintained
- Track management is optional (can continue without using tracks)

## Documentation

All documentation updated for v1.4.0:
- [Getting Started](https://github.com/LouisHitchcock/FPVGate/blob/main/docs/GETTING_STARTED.md)
- [User Guide](https://github.com/LouisHitchcock/FPVGate/blob/main/docs/USER_GUIDE.md)
- [Hardware Guide](https://github.com/LouisHitchcock/FPVGate/blob/main/docs/HARDWARE_GUIDE.md)
- [Features Guide](https://github.com/LouisHitchcock/FPVGate/blob/main/docs/FEATURES.md)
- [Development Guide](https://github.com/LouisHitchcock/FPVGate/blob/main/docs/DEVELOPMENT.md)

**Full Changelog:** https://github.com/LouisHitchcock/FPVGate/blob/main/CHANGELOG.md

---

## Files in this Release

### ESP32-S3 Firmware
- `bootloader-esp32s3.bin` - ESP32-S3 bootloader
- `partitions-esp32s3.bin` - Partition table  
- `firmware-esp32s3.bin` - Main firmware
- `littlefs-esp32s3.bin` - Filesystem with web interface

### Desktop App
- `FPVGate_Desktop_v1.4.0_Windows_x64.zip` - Windows installer

### Documentation
- `RELEASE_NOTES.md` - Detailed release notes
- `README.md` - Desktop app readme

## Support

- Report Issues: https://github.com/LouisHitchcock/FPVGate/issues
- Discussions: https://github.com/LouisHitchcock/FPVGate/discussions

## License

MIT License
